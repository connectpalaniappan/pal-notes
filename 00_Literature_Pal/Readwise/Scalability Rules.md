# Scalability Rules

![rw-book-cover](https://images-na.ssl-images-amazon.com/images/I/51RQ9OuU4qL._SL200_.jpg)

## Metadata
- Author: [[Martin L. Abbott and Michael T. Fisher]]
- Full Title: Scalability Rules
- Category: #books

## Highlights
- match the effort and approach to the complexity of the problem. ([Location 475](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=475))
- Do you handle the most likely case first? ([Location 524](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=524))
- Simplification needs to happen during every aspect of product development. ([Location 629](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=629))
- How do I simplify my scope, my design, and my implementation? ([Location 634](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=634))
- The folks at 37signals, now rebranded as Basecamp, are huge proponents of this approach, discussing the need and opportunity to prune work in both their book Rework6 and in their blog post titled “You Can Always Do Less.” ([Location 643](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=643))
- Complexity elimination is about doing less work, and design simplification is about doing that work faster and easier. ([Location 658](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=658))
- the fewer DNS lookups on your pages, the better your page download performance will be. ([Location 720](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=720))
- downside to combining all your objects into a single domain, ([Location 720](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=720))
- CSS image sprites ([Location 751](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=751))
- An image sprite is a combination of small images into one larger image that can be manipulated with CSS to display any single individual image. ([Location 751](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=751))
- reducing the number of objects on a page will improve performance and scalability, ([Location 755](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=755))
- amount of content that must be displayed, how many objects can be combined, maximizing the use of simultaneous connections by adding domains, the total page weight and whether penalization can help, and so on. ([Location 783](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=783))
    - Tags: [[pink]] 
- Many other techniques for optimizing performance should be considered, including loading CSS at the top of the page and JavaScript files at the bottom, minifying files, and making use of caches, lazy loading, and so on. ([Location 785](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=785))
    - Tags: [[pink]] 
- Time (or temporal) sensitivity is how fresh or completely correct the read copy has to be relative to the write copy. ([Location 961](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=961))
- solutions that rely on a single write database to help eliminate confusion and logical contention between the databases. ([Location 991](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=991))
- A request comes in to the load balancer which distributes it to any one of the many Web or application servers to fulfill. ([Location 995](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=995))
- Often referred to as sharding and podding, ([Location 1074](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1074))
- they are caused by a logical contention that bigger and faster hardware simply can’t solve. ([Location 1135](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1135))
- Own the base; rent the peak. ([Location 1307](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1307))
- Standardize system configuration, code deployment, and monitoring to enable seamless growth between colocation sites and cloud sites. ([Location 1329](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1329))
- Keeping two sites in sync is tough, especially when the team likely doesn’t get many opportunities to prove that one of the two sites would actually work if needed. ([Location 1377](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1377))
- ease of identifying where ([Location 1547](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1547))
- relationships may exist through correlation within objects. ([Location 1547](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1547))
- Don’t get locked into only what you are familiar with; spend the time to learn new things and be open to them. ([Location 1581](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1581))
- An RDBMS provides great transactional integrity but is more difficult to scale, costs more, and has lower availability ([Location 1590](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1590))
- first is the guarantee of transactional integrity through ACID properties; ([Location 1596](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1596))
- The second is the relational structure within and between tables. ([Location 1598](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1598))
- The bottom line is that data that requires transactional integrity or relationships with other data is likely ideal for an RDBMS. Data that requires neither relationships with other data nor transactional integrity might be better suited for other storage systems. ([Location 1611](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1611))
- Google File System (GFS), MogileFS, and Ceph. ([Location 1619](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1619))
- File systems are great alternatives when you have a “write once, read many” system. ([Location 1619](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1619))
- Key-value stores include technologies such as Memcached, Redis, and Amazon DynamoDB and Simple DB. ([Location 1628](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1628))
- Extensible record stores (ERSs), sometimes called wide column stores or table-style DBMSs, include technologies such as Google’s proprietary Bigtable and Facebook’s, now open-source, Cassandra and the open-source HBase. ([Location 1633](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1633))
- Document stores include technologies such as MongoDB, CouchDB, Amazon’s DynamoDB, and Couchbase. ([Location 1642](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1642))
- reduction of relationships that allows for the systems to be distributed across many nodes and achieve greater scalability while maintaining transactional integrity and read-write conflict resolution. ([Location 1647](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1647))
- our data storage alternatives is Apache’s Hadoop. ([Location 1668](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1668))
- Google’s MapReduce and Google File System, ([Location 1669](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1669))
- Cost-Value Data Dilemma, which is where the value of data decreases over time and the cost of keeping it increases over time. ([Location 1700](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1700))
- ensuring that these objects are delivered from private IP addresses and have access only via ports 80 and 443. ([Location 1741](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1741))
- However, it is important to keep in mind that any extra hop reduces availability and increases latency regardless of implementation. ([Location 1770](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1770))
- Splunk or the ELK ([Location 1783](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1783))
- framework to watch your application logs for errors. ([Location 1783](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1783))
- first step in using log files is to aggregate them. ([Location 1795](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1795))
- there are strategies such as sampling, pulling data from every nth server, that can be implemented. ([Location 1797](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1797))
- next step is to monitor these logs. ([Location 1804](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1804))
- monitoring can be done through custom scripts such as a simple shell script that greps the files, counting errors and alerting when a threshold is exceeded. ([Location 1806](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1806))
- tools such as Cricket or Cacti include graphing capabilities. ([Location 1808](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1808))
- Logstash, an application similar to Extract, Transform, and Load (ETL) that extracts data from a variety of inputs ([Location 1811](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1811))
- Elasticsearch is a distributed data store and search engine that indexes large amounts of data to make it quickly ([Location 1813](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1813))
- final component, Kibana, is a data visualization tool that displays your metrics in graphical and tabular presentation modes as they are being generated in real time. ([Location 1815](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1815))
- final step is to take action to fix the problems. ([Location 1821](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1821))
- Writing and then reading a result doubles the transactions on your systems and as a result halves the number of total transactions you may perform to create value. ([Location 1941](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1941))
- A better solution is to simply read the return value of the operation you are performing and trust that it is correct, thereby increasing the number of value-added transactions you can perform. ([Location 1942](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1942))
- You should absolutely try not to duplicate your work and absolutely try to maintain a largely stateless application. ([Location 1968](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1968))
- this approach causes a violation of our state rules, it makes complete sense as we are attempting to introduce state in a limited set of operations where it actually decreases cost and increases scalability ([Location 1974](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1974))
- If you must use redirects, consider server configurations instead of HTML or other code-based solutions. ([Location 2001](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2001))
- problem is that they can be performed in numerous ways, some better than others in terms of resource utilization and performance, and they can easily get out of hand. ([Location 2038](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2038))
- CAP Theorem, also known as the Brewer Theorem, so named after computer scientist Eric Brewer, states that three core requirements exist when designing applications in a distributed environment, but it is impossible to simultaneously satisfy all three requirements. ([Location 2141](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2141))
- Consistency—The client perceives that a set of operations has occurred all at once. ([Location 2144](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2144))
- Availability—Every operation must terminate in an intended response. ([Location 2146](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2146))
- Partition tolerance—Operations will complete, even if individual components are unavailable. ([Location 2147](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2147))
- BASE, an acronym for architectures that solve CAP and stands for “basically available, soft state, and eventually consistent.” ([Location 2149](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2149))
- BASE architecture allows for the databases to become consistent, eventually. ([Location 2151](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2151))
- caching also helps to minimize the amount of work your system does. ([Location 2210](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2210))
- make static content highly available and scalable at low cost through the use of caches. ([Location 2213](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2213))
- add a content distribution network; they chose Akamai. ([Location 2222](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2222))
- simple to just take all of our static assets and push them there [Akamai] and let them handle caching closest to the user. ([Location 2223](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2223))
- used an Ajax call to replace the static content on the client side with the user’s name. For bigger sections of the site, the team used iframes to replace content dynamically. ([Location 2225](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2225))
- tuning the database buffer size, they were able to reduce the execution time of the queries and keep the result set in cache. ([Location 2229](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2229))
- small content management system that allowed the merchandisers to use a proprietary markup language to change information displayed, such as the price of the product, the SKU, and the content descriptions, without affecting the overall layout, the Cascading Style Sheets (CSS), or other assets, leaving the cache intact. ([Location 2234](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2234))
    - Note: Contentful
- pre-render sections of the page and then assemble them at the time of request. ([Location 2240](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2240))
- huge chunk of that HTML, pre-render it, and cache a CLOB [character large object] in memory using Memcached. Memcached would distribute it across our cluster of application servers, ([Location 2242](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2242))
- we were able to get rid of those Ajax calls that I mentioned when we were doing the full reverse proxy caching. ([Location 2245](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2245))
    - Note: Understand reverse cache proxying
- open-source object-relational mapping (ORM) tool called Entity Engine and then later moved to Hibernate. ([Location 2247](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2247))
- cost of assembling them is a little high, but the cost of caching them is relatively low because they really are only a bunch of text. ([Location 2253](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2253))
- you should ensure that you’ve designed the caches to be highly available and easily maintained. ([Location 2271](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2271))
- CDNs are a collection of computers, called nodes or edge servers, connected via a network, called a backbone, that have duplicate copies of their customers’ data or content (images, Web pages, and so on) on them. ([Location 2287](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2287))
- clients with greater than 10M of average revenues are better served by implementing CDNs than by continuing to serve that traffic themselves. ([Location 2308](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2308))
- for static Web sites, but how does this help your dynamic pages? ([Location 2309](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2309))
- Whether you have dynamic or static pages on your site, consider adding a CDN to the mix of caches. This layer provides the benefits of faster delivery, typically very high availability, and less traffic on your site’s servers. ([Location 2315](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2315))
- misconception that you can control how pages are cached by placing meta tags, such as Pragma, Expires, or Cache-Control, in the <HEAD> element of the page. ([Location 2327](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2327))
- Unfortunately, meta tags in HTML are recommendations for how the browser should treat a page, but many browsers do not pay attention to them. ([Location 2330](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2330))
- proxy caches ([Location 2332](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2332))
    - Note: What are proxy caches?
- HTTP headers, unlike meta tags, provide much more control over caching. ([Location 2335](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2335))
- Cache-Control general-header field is used to specify directives that, in accordance with RFC 2616 Section 14 defining the HTTP 1.1 protocol, must be obeyed by all caching mechanisms along the request/response chain. ([Location 2350](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2350))
- many directives that can be issued under the header, including public, private, no-cache, and max-age. ([Location 2352](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2352))
- configuring Web servers for the optimization of performance and scale. Keep-alives, or HTTP persistent connections, allow for the reuse of TCP connections for multiple HTTP requests. ([Location 2387](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2387))
    - Note: Android devices has these persistent http connection requests with server
- benefit of longer time-out periods is that more HTTP requests do not have to establish, use, and break down TCP connections, but the benefit of short time-out periods is that the Web server threads will not be tied up for servicing other requests. Finding a balance between the two based on the specifics of your application or site is important. ([Location 2392](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2392))
- Ajax as one of the “approaches” behind some of those drop-down menus that start to offer suggestions as you type, or the map services that allow you to zoom in and out of maps without making additional round-trip calls to a distant server. ([Location 2417](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2417))
- Ajax is an acronym for Asynchronous JavaScript and XML. ([Location 2424](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2424))
- Ajax consists of standards-based presentation leveraging CSS and DHTML, interaction and dynamic display capabilities facilitated by the Document Object Model (or DOM), a data interchange and manipulation mechanism such as XML with XSLT or JSON, and a data retrieval mechanism. ([Location 2429](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2429))
- asynchronous nature of Ajax can also help us load mail results into a client browser by repetitively fetching mail upon certain user actions without requiring the user to hit a “next page” button. ([Location 2440](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2440))
- Last-Modified header helps us handle conditional GET requests. In these cases, consistent with the HTTP/1.1 protocol, the server should respond with a 304 status if the item in cache is appropriate or still valid. ([Location 2468](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2468))
- page cache is a caching server you install in front of your Web servers to offload requests for both static and dynamic objects from those servers. ([Location 2511](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2511))
- SSL (Secure Sockets Layer) acceleration, ([Location 2513](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2513))
    - Note: What is ssl acceleration?
- first is that you should implement a page (or reverse proxy) cache in front of your Web servers ([Location 2521](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2521))
- second point is that you need to use the appropriate HTTP headers to ensure the greatest (but also business-appropriate) cache potential of your content and results. ([Location 2525](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2525))
- third point is that where possible you should include another HTTP header from RFC 2616 to help maximize the cacheability of your content. This new header is known as the ETag. ([Location 2530](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2530))
- If the tag matches, the server may respond with an HTTP 304 Not Modified response. If the tag is inconsistent with that on the server, the server will issue the updated object and its associated ETag. ([Location 2538](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2538))
- 20% of our largest businesses that might represent 80% of our total transaction volumes (such a situation exists with most of our customers) and spread them across several swim lanes of database splits. To gain cost leverage, we take 80% of our smaller users and sprinkle them evenly across all these swim lanes. ([Location 2587](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2587))
- Lather, rinse, repeat. ([Location 2617](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2617))
- Object caches are data stores (usually in memory) that store a hashed summary of each item. ([Location 2627](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2627))
- A hash function is a mathematical function that converts a large and variable-sized amount of data into a small hash value. ([Location 2629](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2629))
- cksum, md5sum, and sha1sum ([Location 2632](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2632))
- object caches such as the popular Memcached, Apache’s OJB, and NCache ([Location 2638](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2638))
- indicates when your system is in need of an object cache is the Top SQL report. ([Location 2645](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2645))
- final step in implementing the object cache is to monitor it for the cache hit rate. ([Location 2669](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2669))
- Depth of learning comes from asking “why” multiple times until the answers stop coming and causes are clearly identified. ([Location 2786](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2786))
- Failing to learn continuously and aggressively, meaning at every opportunity, will leave you vulnerable to competitors who are willing to constantly learn. ([Location 2804](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2804))
- Simply keeping track of usage and adoption of new features is a great start. ([Location 2826](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2826))
- Asking “why” five times is common but somewhat arbitrary, and you should continue to ask it until nothing new is revealed. ([Location 2879](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2879))
- Columns or tables should only be added, not deleted, until the next version of code is released ([Location 3046](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3046))
- the team needs to test the rollback process in QA ([Location 3050](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3050))
- the script needs to be tested under some amount of load condition ([Location 3051](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3051))
- The development team must not change the definition of data within a release. ([Location 3057](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3057))
- The application should have a framework added that allows code paths and features to be accessed by some users and not by others, based on an external configuration. ([Location 3060](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3060))
- Remove stored procedures from the database and put them in your application logic. ([Location 3137](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3137))
- Putting application logic in databases is costly and represents scale challenges. ([Location 3139](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3139))
- cost per compute cycle on these systems tends to be higher than that of the remainder of the solutions or services within a product’s architecture (for example, application servers or Web servers). ([Location 3158](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3158))
- Grouping the same types of entities together produces an entity set. In our database the entity is the equivalent of the row, and the entity set is the table. ([Location 3226](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3226))
- Primary keys enforce entity integrity by uniquely identifying entity instances. ([Location 3228](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3228))
- Foreign keys enforce referential integrity by completing an association between two entities of different entity sets. ([Location 3229](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3229))
- used to diagram entities, relationships, and attributes are entity relationship diagrams (ERDs). ERDs show the cardinality between entity sets, one-to-one, one-to-many, or many-to-many relationships. ([Location 3230](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3230))
- primary purpose of normalizing a data model is to ensure that the data is stored in a manner that allows for insert, update, select, and delete (aka CRUD: create, read, update, delete) with data integrity. ([Location 3233](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3233))
- SQL queries perform poorly because of the requirements to join tables, ([Location 3272](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3272))
- first is to tune the query. ([Location 3272](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3272))
- create a view, materialized view, summary table, ([Location 3273](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3273))
- is to not join in the query but rather pull the data sets into the application and join in memory ([Location 3274](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3274))
- final alternative is to push back on the business requirements. ([Location 3276](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3276))
- databases allow reads to occur simultaneously on data, while blocking all reads during the course of a write (an update or insertion) on an element undergoing an operation. ([Location 3301](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3301))
- When updating many rows at a single time within a database, the cost of acquiring multiple row locks and the competition for these rows might result in fewer transactions per second than just acquiring a larger lock of a page, extent, or table. ([Location 3306](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3306))
- component of the database (commonly called an optimizer within many databases) determines what size of element should be locked in an attempt to allow maximum concurrency while ensuring consistency and isolation. ([Location 3309](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3309))
- MySQL is an example where the selection of a storage engine such as MyISAM can limit you to table-level locks ([Location 3330](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3330))
    - Note: What would be the storage engine in clver?
- and, as a result, potentially limit your transaction throughput. ([Location 3330](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3330))
- Do not use multiphase commit protocols as a simple way to extend the life of your monolithic database. They will likely cause it to scale even less and result in an even earlier demise of your system. ([Location 3340](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3340))
- the American National Standards Institute (ANSI) SQL standard indicates that any cursor should default to FOR UPDATE unless it includes the clause FOR READ ONLY on the DECLARE statement. ([Location 3414](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3414))
- Selecting everything is fast and simple but really never a good idea. ([Location 3431](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3431))
- Strive for active/active rather than active/passive solutions. ([Location 3641](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3641))
- Use control services with active/passive instances for patterns that require singletons. ([Location 3641](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3641))
- The more components that are placed in series, the lower the system’s availability. ([Location 3731](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3731))
- Firefox plug-in Firesheep ([Location 3892](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3892))
- protect your users’ cookies against this type of hack or attack, commonly called sidejacking. ([Location 3895](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3895))
- there are mechanisms designed to allow for the coordination and communication between the parent method and the asynchronous child method called callbacks. ([Location 4059](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4059))
- design patterns that use callbacks, such as the delegate design pattern and the observer design pattern, each of which can be difficult to implement properly. ([Location 4061](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4061))
- Apache Kafka and RabbitMQ to PaaS such as AWS Kinesis and SQS. ([Location 4222](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4222))
- CPU utilization, memory, heap sizes, network utilization, and so forth. ([Location 4291](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4291))
- Keep your architecture simple, keep your destiny in your own hands, and keep your costs in control. ([Location 4314](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4314))
- once you start using one vendor’s clustering service, you can’t just switch to another’s solution. ([Location 4351](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4351))
- control of your own destiny, additional complexity, and total cost of ownership ([Location 4357](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4357))
- Recency accounts for how recently the data item in question has been accessed. ([Location 4396](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4396))
- Frequency speaks to how frequently that data is accessed. ([Location 4397](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4397))
- mean period between access and the rough inverse of this—the number of accesses over some time interval. ([Location 4398](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4398))
- open-source monitoring tools such as Cacti, Ntop, or Nagios, ([Location 4526](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4526))
# Scalability Rules

![rw-book-cover](https://images-na.ssl-images-amazon.com/images/I/51RQ9OuU4qL._SL200_.jpg)

## Metadata
- Author: [[Martin L. Abbott and Michael T. Fisher]]
- Full Title: Scalability Rules
- Category: #books

## Highlights
- match the effort and approach to the complexity of the problem. ([Location 475](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=475))
- Do you handle the most likely case first? ([Location 524](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=524))
- Simplification needs to happen during every aspect of product development. ([Location 629](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=629))
- How do I simplify my scope, my design, and my implementation? ([Location 634](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=634))
- The folks at 37signals, now rebranded as Basecamp, are huge proponents of this approach, discussing the need and opportunity to prune work in both their book Rework6 and in their blog post titled “You Can Always Do Less.” ([Location 643](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=643))
- Complexity elimination is about doing less work, and design simplification is about doing that work faster and easier. ([Location 658](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=658))
- the fewer DNS lookups on your pages, the better your page download performance will be. ([Location 720](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=720))
- downside to combining all your objects into a single domain, ([Location 720](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=720))
- CSS image sprites ([Location 751](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=751))
- An image sprite is a combination of small images into one larger image that can be manipulated with CSS to display any single individual image. ([Location 751](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=751))
- reducing the number of objects on a page will improve performance and scalability, ([Location 755](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=755))
- amount of content that must be displayed, how many objects can be combined, maximizing the use of simultaneous connections by adding domains, the total page weight and whether penalization can help, and so on. ([Location 783](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=783))
    - Tags: [[pink]] 
- Many other techniques for optimizing performance should be considered, including loading CSS at the top of the page and JavaScript files at the bottom, minifying files, and making use of caches, lazy loading, and so on. ([Location 785](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=785))
    - Tags: [[pink]] 
- Time (or temporal) sensitivity is how fresh or completely correct the read copy has to be relative to the write copy. ([Location 961](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=961))
- solutions that rely on a single write database to help eliminate confusion and logical contention between the databases. ([Location 991](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=991))
- A request comes in to the load balancer which distributes it to any one of the many Web or application servers to fulfill. ([Location 995](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=995))
- Often referred to as sharding and podding, ([Location 1074](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1074))
- they are caused by a logical contention that bigger and faster hardware simply can’t solve. ([Location 1135](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1135))
- Own the base; rent the peak. ([Location 1307](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1307))
- Standardize system configuration, code deployment, and monitoring to enable seamless growth between colocation sites and cloud sites. ([Location 1329](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1329))
- Keeping two sites in sync is tough, especially when the team likely doesn’t get many opportunities to prove that one of the two sites would actually work if needed. ([Location 1377](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1377))
- ease of identifying where ([Location 1547](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1547))
- relationships may exist through correlation within objects. ([Location 1547](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1547))
- Don’t get locked into only what you are familiar with; spend the time to learn new things and be open to them. ([Location 1581](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1581))
- An RDBMS provides great transactional integrity but is more difficult to scale, costs more, and has lower availability ([Location 1590](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1590))
- first is the guarantee of transactional integrity through ACID properties; ([Location 1596](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1596))
- The second is the relational structure within and between tables. ([Location 1598](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1598))
- The bottom line is that data that requires transactional integrity or relationships with other data is likely ideal for an RDBMS. Data that requires neither relationships with other data nor transactional integrity might be better suited for other storage systems. ([Location 1611](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1611))
- Google File System (GFS), MogileFS, and Ceph. ([Location 1619](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1619))
- File systems are great alternatives when you have a “write once, read many” system. ([Location 1619](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1619))
- Key-value stores include technologies such as Memcached, Redis, and Amazon DynamoDB and Simple DB. ([Location 1628](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1628))
- Extensible record stores (ERSs), sometimes called wide column stores or table-style DBMSs, include technologies such as Google’s proprietary Bigtable and Facebook’s, now open-source, Cassandra and the open-source HBase. ([Location 1633](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1633))
- Document stores include technologies such as MongoDB, CouchDB, Amazon’s DynamoDB, and Couchbase. ([Location 1642](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1642))
- reduction of relationships that allows for the systems to be distributed across many nodes and achieve greater scalability while maintaining transactional integrity and read-write conflict resolution. ([Location 1647](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1647))
- our data storage alternatives is Apache’s Hadoop. ([Location 1668](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1668))
- Google’s MapReduce and Google File System, ([Location 1669](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1669))
- Cost-Value Data Dilemma, which is where the value of data decreases over time and the cost of keeping it increases over time. ([Location 1700](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1700))
- ensuring that these objects are delivered from private IP addresses and have access only via ports 80 and 443. ([Location 1741](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1741))
- However, it is important to keep in mind that any extra hop reduces availability and increases latency regardless of implementation. ([Location 1770](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1770))
- Splunk or the ELK ([Location 1783](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1783))
- framework to watch your application logs for errors. ([Location 1783](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1783))
- first step in using log files is to aggregate them. ([Location 1795](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1795))
- there are strategies such as sampling, pulling data from every nth server, that can be implemented. ([Location 1797](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1797))
- next step is to monitor these logs. ([Location 1804](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1804))
- monitoring can be done through custom scripts such as a simple shell script that greps the files, counting errors and alerting when a threshold is exceeded. ([Location 1806](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1806))
- tools such as Cricket or Cacti include graphing capabilities. ([Location 1808](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1808))
- Logstash, an application similar to Extract, Transform, and Load (ETL) that extracts data from a variety of inputs ([Location 1811](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1811))
- Elasticsearch is a distributed data store and search engine that indexes large amounts of data to make it quickly ([Location 1813](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1813))
- final component, Kibana, is a data visualization tool that displays your metrics in graphical and tabular presentation modes as they are being generated in real time. ([Location 1815](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1815))
- final step is to take action to fix the problems. ([Location 1821](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1821))
- Writing and then reading a result doubles the transactions on your systems and as a result halves the number of total transactions you may perform to create value. ([Location 1941](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1941))
- A better solution is to simply read the return value of the operation you are performing and trust that it is correct, thereby increasing the number of value-added transactions you can perform. ([Location 1942](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1942))
- You should absolutely try not to duplicate your work and absolutely try to maintain a largely stateless application. ([Location 1968](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1968))
- this approach causes a violation of our state rules, it makes complete sense as we are attempting to introduce state in a limited set of operations where it actually decreases cost and increases scalability ([Location 1974](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1974))
- If you must use redirects, consider server configurations instead of HTML or other code-based solutions. ([Location 2001](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2001))
- problem is that they can be performed in numerous ways, some better than others in terms of resource utilization and performance, and they can easily get out of hand. ([Location 2038](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2038))
- CAP Theorem, also known as the Brewer Theorem, so named after computer scientist Eric Brewer, states that three core requirements exist when designing applications in a distributed environment, but it is impossible to simultaneously satisfy all three requirements. ([Location 2141](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2141))
- Consistency—The client perceives that a set of operations has occurred all at once. ([Location 2144](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2144))
- Availability—Every operation must terminate in an intended response. ([Location 2146](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2146))
- Partition tolerance—Operations will complete, even if individual components are unavailable. ([Location 2147](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2147))
- BASE, an acronym for architectures that solve CAP and stands for “basically available, soft state, and eventually consistent.” ([Location 2149](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2149))
- BASE architecture allows for the databases to become consistent, eventually. ([Location 2151](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2151))
- caching also helps to minimize the amount of work your system does. ([Location 2210](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2210))
- make static content highly available and scalable at low cost through the use of caches. ([Location 2213](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2213))
- add a content distribution network; they chose Akamai. ([Location 2222](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2222))
- simple to just take all of our static assets and push them there [Akamai] and let them handle caching closest to the user. ([Location 2223](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2223))
- used an Ajax call to replace the static content on the client side with the user’s name. For bigger sections of the site, the team used iframes to replace content dynamically. ([Location 2225](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2225))
- tuning the database buffer size, they were able to reduce the execution time of the queries and keep the result set in cache. ([Location 2229](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2229))
- small content management system that allowed the merchandisers to use a proprietary markup language to change information displayed, such as the price of the product, the SKU, and the content descriptions, without affecting the overall layout, the Cascading Style Sheets (CSS), or other assets, leaving the cache intact. ([Location 2234](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2234))
    - Note: Contentful
- pre-render sections of the page and then assemble them at the time of request. ([Location 2240](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2240))
- huge chunk of that HTML, pre-render it, and cache a CLOB [character large object] in memory using Memcached. Memcached would distribute it across our cluster of application servers, ([Location 2242](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2242))
- we were able to get rid of those Ajax calls that I mentioned when we were doing the full reverse proxy caching. ([Location 2245](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2245))
    - Note: Understand reverse cache proxying
- open-source object-relational mapping (ORM) tool called Entity Engine and then later moved to Hibernate. ([Location 2247](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2247))
- cost of assembling them is a little high, but the cost of caching them is relatively low because they really are only a bunch of text. ([Location 2253](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2253))
- you should ensure that you’ve designed the caches to be highly available and easily maintained. ([Location 2271](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2271))
- CDNs are a collection of computers, called nodes or edge servers, connected via a network, called a backbone, that have duplicate copies of their customers’ data or content (images, Web pages, and so on) on them. ([Location 2287](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2287))
- clients with greater than 10M of average revenues are better served by implementing CDNs than by continuing to serve that traffic themselves. ([Location 2308](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2308))
- for static Web sites, but how does this help your dynamic pages? ([Location 2309](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2309))
- Whether you have dynamic or static pages on your site, consider adding a CDN to the mix of caches. This layer provides the benefits of faster delivery, typically very high availability, and less traffic on your site’s servers. ([Location 2315](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2315))
- misconception that you can control how pages are cached by placing meta tags, such as Pragma, Expires, or Cache-Control, in the <HEAD> element of the page. ([Location 2327](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2327))
- Unfortunately, meta tags in HTML are recommendations for how the browser should treat a page, but many browsers do not pay attention to them. ([Location 2330](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2330))
- proxy caches ([Location 2332](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2332))
    - Note: What are proxy caches?
- HTTP headers, unlike meta tags, provide much more control over caching. ([Location 2335](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2335))
- Cache-Control general-header field is used to specify directives that, in accordance with RFC 2616 Section 14 defining the HTTP 1.1 protocol, must be obeyed by all caching mechanisms along the request/response chain. ([Location 2350](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2350))
- many directives that can be issued under the header, including public, private, no-cache, and max-age. ([Location 2352](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2352))
- configuring Web servers for the optimization of performance and scale. Keep-alives, or HTTP persistent connections, allow for the reuse of TCP connections for multiple HTTP requests. ([Location 2387](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2387))
    - Note: Android devices has these persistent http connection requests with server
- benefit of longer time-out periods is that more HTTP requests do not have to establish, use, and break down TCP connections, but the benefit of short time-out periods is that the Web server threads will not be tied up for servicing other requests. Finding a balance between the two based on the specifics of your application or site is important. ([Location 2392](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2392))
- Ajax as one of the “approaches” behind some of those drop-down menus that start to offer suggestions as you type, or the map services that allow you to zoom in and out of maps without making additional round-trip calls to a distant server. ([Location 2417](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2417))
- Ajax is an acronym for Asynchronous JavaScript and XML. ([Location 2424](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2424))
- Ajax consists of standards-based presentation leveraging CSS and DHTML, interaction and dynamic display capabilities facilitated by the Document Object Model (or DOM), a data interchange and manipulation mechanism such as XML with XSLT or JSON, and a data retrieval mechanism. ([Location 2429](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2429))
- asynchronous nature of Ajax can also help us load mail results into a client browser by repetitively fetching mail upon certain user actions without requiring the user to hit a “next page” button. ([Location 2440](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2440))
- Last-Modified header helps us handle conditional GET requests. In these cases, consistent with the HTTP/1.1 protocol, the server should respond with a 304 status if the item in cache is appropriate or still valid. ([Location 2468](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2468))
- page cache is a caching server you install in front of your Web servers to offload requests for both static and dynamic objects from those servers. ([Location 2511](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2511))
- SSL (Secure Sockets Layer) acceleration, ([Location 2513](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2513))
    - Note: What is ssl acceleration?
- first is that you should implement a page (or reverse proxy) cache in front of your Web servers ([Location 2521](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2521))
- second point is that you need to use the appropriate HTTP headers to ensure the greatest (but also business-appropriate) cache potential of your content and results. ([Location 2525](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2525))
- third point is that where possible you should include another HTTP header from RFC 2616 to help maximize the cacheability of your content. This new header is known as the ETag. ([Location 2530](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2530))
- If the tag matches, the server may respond with an HTTP 304 Not Modified response. If the tag is inconsistent with that on the server, the server will issue the updated object and its associated ETag. ([Location 2538](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2538))
- 20% of our largest businesses that might represent 80% of our total transaction volumes (such a situation exists with most of our customers) and spread them across several swim lanes of database splits. To gain cost leverage, we take 80% of our smaller users and sprinkle them evenly across all these swim lanes. ([Location 2587](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2587))
- Lather, rinse, repeat. ([Location 2617](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2617))
- Object caches are data stores (usually in memory) that store a hashed summary of each item. ([Location 2627](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2627))
- A hash function is a mathematical function that converts a large and variable-sized amount of data into a small hash value. ([Location 2629](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2629))
- cksum, md5sum, and sha1sum ([Location 2632](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2632))
- object caches such as the popular Memcached, Apache’s OJB, and NCache ([Location 2638](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2638))
- indicates when your system is in need of an object cache is the Top SQL report. ([Location 2645](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2645))
- final step in implementing the object cache is to monitor it for the cache hit rate. ([Location 2669](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2669))
- Depth of learning comes from asking “why” multiple times until the answers stop coming and causes are clearly identified. ([Location 2786](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2786))
- Failing to learn continuously and aggressively, meaning at every opportunity, will leave you vulnerable to competitors who are willing to constantly learn. ([Location 2804](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2804))
- Simply keeping track of usage and adoption of new features is a great start. ([Location 2826](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2826))
- Asking “why” five times is common but somewhat arbitrary, and you should continue to ask it until nothing new is revealed. ([Location 2879](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2879))
- Columns or tables should only be added, not deleted, until the next version of code is released ([Location 3046](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3046))
- the team needs to test the rollback process in QA ([Location 3050](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3050))
- the script needs to be tested under some amount of load condition ([Location 3051](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3051))
- The development team must not change the definition of data within a release. ([Location 3057](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3057))
- The application should have a framework added that allows code paths and features to be accessed by some users and not by others, based on an external configuration. ([Location 3060](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3060))
- Remove stored procedures from the database and put them in your application logic. ([Location 3137](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3137))
- Putting application logic in databases is costly and represents scale challenges. ([Location 3139](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3139))
- cost per compute cycle on these systems tends to be higher than that of the remainder of the solutions or services within a product’s architecture (for example, application servers or Web servers). ([Location 3158](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3158))
- Grouping the same types of entities together produces an entity set. In our database the entity is the equivalent of the row, and the entity set is the table. ([Location 3226](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3226))
- Primary keys enforce entity integrity by uniquely identifying entity instances. ([Location 3228](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3228))
- Foreign keys enforce referential integrity by completing an association between two entities of different entity sets. ([Location 3229](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3229))
- used to diagram entities, relationships, and attributes are entity relationship diagrams (ERDs). ERDs show the cardinality between entity sets, one-to-one, one-to-many, or many-to-many relationships. ([Location 3230](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3230))
- primary purpose of normalizing a data model is to ensure that the data is stored in a manner that allows for insert, update, select, and delete (aka CRUD: create, read, update, delete) with data integrity. ([Location 3233](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3233))
- SQL queries perform poorly because of the requirements to join tables, ([Location 3272](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3272))
- first is to tune the query. ([Location 3272](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3272))
- create a view, materialized view, summary table, ([Location 3273](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3273))
- is to not join in the query but rather pull the data sets into the application and join in memory ([Location 3274](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3274))
- final alternative is to push back on the business requirements. ([Location 3276](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3276))
- databases allow reads to occur simultaneously on data, while blocking all reads during the course of a write (an update or insertion) on an element undergoing an operation. ([Location 3301](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3301))
- When updating many rows at a single time within a database, the cost of acquiring multiple row locks and the competition for these rows might result in fewer transactions per second than just acquiring a larger lock of a page, extent, or table. ([Location 3306](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3306))
- component of the database (commonly called an optimizer within many databases) determines what size of element should be locked in an attempt to allow maximum concurrency while ensuring consistency and isolation. ([Location 3309](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3309))
- MySQL is an example where the selection of a storage engine such as MyISAM can limit you to table-level locks ([Location 3330](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3330))
    - Note: What would be the storage engine in clver?
- and, as a result, potentially limit your transaction throughput. ([Location 3330](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3330))
- Do not use multiphase commit protocols as a simple way to extend the life of your monolithic database. They will likely cause it to scale even less and result in an even earlier demise of your system. ([Location 3340](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3340))
- the American National Standards Institute (ANSI) SQL standard indicates that any cursor should default to FOR UPDATE unless it includes the clause FOR READ ONLY on the DECLARE statement. ([Location 3414](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3414))
- Selecting everything is fast and simple but really never a good idea. ([Location 3431](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3431))
- Strive for active/active rather than active/passive solutions. ([Location 3641](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3641))
- Use control services with active/passive instances for patterns that require singletons. ([Location 3641](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3641))
- The more components that are placed in series, the lower the system’s availability. ([Location 3731](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3731))
- Firefox plug-in Firesheep ([Location 3892](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3892))
- protect your users’ cookies against this type of hack or attack, commonly called sidejacking. ([Location 3895](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3895))
- there are mechanisms designed to allow for the coordination and communication between the parent method and the asynchronous child method called callbacks. ([Location 4059](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4059))
- design patterns that use callbacks, such as the delegate design pattern and the observer design pattern, each of which can be difficult to implement properly. ([Location 4061](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4061))
- Apache Kafka and RabbitMQ to PaaS such as AWS Kinesis and SQS. ([Location 4222](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4222))
- CPU utilization, memory, heap sizes, network utilization, and so forth. ([Location 4291](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4291))
- Keep your architecture simple, keep your destiny in your own hands, and keep your costs in control. ([Location 4314](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4314))
- once you start using one vendor’s clustering service, you can’t just switch to another’s solution. ([Location 4351](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4351))
- control of your own destiny, additional complexity, and total cost of ownership ([Location 4357](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4357))
- Recency accounts for how recently the data item in question has been accessed. ([Location 4396](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4396))
- Frequency speaks to how frequently that data is accessed. ([Location 4397](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4397))
- mean period between access and the rough inverse of this—the number of accesses over some time interval. ([Location 4398](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4398))
- open-source monitoring tools such as Cacti, Ntop, or Nagios, ([Location 4526](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4526))
# Scalability Rules

![rw-book-cover](https://images-na.ssl-images-amazon.com/images/I/51RQ9OuU4qL._SL200_.jpg)

## Metadata
- Author: [[Martin L. Abbott and Michael T. Fisher]]
- Full Title: Scalability Rules
- Category: #books

## Highlights
- match the effort and approach to the complexity of the problem. ([Location 475](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=475))
- Do you handle the most likely case first? ([Location 524](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=524))
- Simplification needs to happen during every aspect of product development. ([Location 629](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=629))
- How do I simplify my scope, my design, and my implementation? ([Location 634](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=634))
- The folks at 37signals, now rebranded as Basecamp, are huge proponents of this approach, discussing the need and opportunity to prune work in both their book Rework6 and in their blog post titled “You Can Always Do Less.” ([Location 643](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=643))
- Complexity elimination is about doing less work, and design simplification is about doing that work faster and easier. ([Location 658](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=658))
- the fewer DNS lookups on your pages, the better your page download performance will be. ([Location 720](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=720))
- downside to combining all your objects into a single domain, ([Location 720](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=720))
- CSS image sprites ([Location 751](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=751))
- An image sprite is a combination of small images into one larger image that can be manipulated with CSS to display any single individual image. ([Location 751](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=751))
- reducing the number of objects on a page will improve performance and scalability, ([Location 755](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=755))
- amount of content that must be displayed, how many objects can be combined, maximizing the use of simultaneous connections by adding domains, the total page weight and whether penalization can help, and so on. ([Location 783](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=783))
    - Tags: [[pink]] 
- Many other techniques for optimizing performance should be considered, including loading CSS at the top of the page and JavaScript files at the bottom, minifying files, and making use of caches, lazy loading, and so on. ([Location 785](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=785))
    - Tags: [[pink]] 
- Time (or temporal) sensitivity is how fresh or completely correct the read copy has to be relative to the write copy. ([Location 961](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=961))
- solutions that rely on a single write database to help eliminate confusion and logical contention between the databases. ([Location 991](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=991))
- A request comes in to the load balancer which distributes it to any one of the many Web or application servers to fulfill. ([Location 995](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=995))
- Often referred to as sharding and podding, ([Location 1074](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1074))
- they are caused by a logical contention that bigger and faster hardware simply can’t solve. ([Location 1135](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1135))
- Own the base; rent the peak. ([Location 1307](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1307))
- Standardize system configuration, code deployment, and monitoring to enable seamless growth between colocation sites and cloud sites. ([Location 1329](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1329))
- Keeping two sites in sync is tough, especially when the team likely doesn’t get many opportunities to prove that one of the two sites would actually work if needed. ([Location 1377](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1377))
- ease of identifying where ([Location 1547](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1547))
- relationships may exist through correlation within objects. ([Location 1547](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1547))
- Don’t get locked into only what you are familiar with; spend the time to learn new things and be open to them. ([Location 1581](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1581))
- An RDBMS provides great transactional integrity but is more difficult to scale, costs more, and has lower availability ([Location 1590](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1590))
- first is the guarantee of transactional integrity through ACID properties; ([Location 1596](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1596))
- The second is the relational structure within and between tables. ([Location 1598](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1598))
- The bottom line is that data that requires transactional integrity or relationships with other data is likely ideal for an RDBMS. Data that requires neither relationships with other data nor transactional integrity might be better suited for other storage systems. ([Location 1611](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1611))
- Google File System (GFS), MogileFS, and Ceph. ([Location 1619](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1619))
- File systems are great alternatives when you have a “write once, read many” system. ([Location 1619](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1619))
- Key-value stores include technologies such as Memcached, Redis, and Amazon DynamoDB and Simple DB. ([Location 1628](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1628))
- Extensible record stores (ERSs), sometimes called wide column stores or table-style DBMSs, include technologies such as Google’s proprietary Bigtable and Facebook’s, now open-source, Cassandra and the open-source HBase. ([Location 1633](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1633))
- Document stores include technologies such as MongoDB, CouchDB, Amazon’s DynamoDB, and Couchbase. ([Location 1642](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1642))
- reduction of relationships that allows for the systems to be distributed across many nodes and achieve greater scalability while maintaining transactional integrity and read-write conflict resolution. ([Location 1647](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1647))
- our data storage alternatives is Apache’s Hadoop. ([Location 1668](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1668))
- Google’s MapReduce and Google File System, ([Location 1669](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1669))
- Cost-Value Data Dilemma, which is where the value of data decreases over time and the cost of keeping it increases over time. ([Location 1700](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1700))
- ensuring that these objects are delivered from private IP addresses and have access only via ports 80 and 443. ([Location 1741](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1741))
- However, it is important to keep in mind that any extra hop reduces availability and increases latency regardless of implementation. ([Location 1770](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1770))
- Splunk or the ELK ([Location 1783](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1783))
- framework to watch your application logs for errors. ([Location 1783](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1783))
- first step in using log files is to aggregate them. ([Location 1795](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1795))
- there are strategies such as sampling, pulling data from every nth server, that can be implemented. ([Location 1797](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1797))
- next step is to monitor these logs. ([Location 1804](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1804))
- monitoring can be done through custom scripts such as a simple shell script that greps the files, counting errors and alerting when a threshold is exceeded. ([Location 1806](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1806))
- tools such as Cricket or Cacti include graphing capabilities. ([Location 1808](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1808))
- Logstash, an application similar to Extract, Transform, and Load (ETL) that extracts data from a variety of inputs ([Location 1811](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1811))
- Elasticsearch is a distributed data store and search engine that indexes large amounts of data to make it quickly ([Location 1813](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1813))
- final component, Kibana, is a data visualization tool that displays your metrics in graphical and tabular presentation modes as they are being generated in real time. ([Location 1815](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1815))
- final step is to take action to fix the problems. ([Location 1821](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1821))
- Writing and then reading a result doubles the transactions on your systems and as a result halves the number of total transactions you may perform to create value. ([Location 1941](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1941))
- A better solution is to simply read the return value of the operation you are performing and trust that it is correct, thereby increasing the number of value-added transactions you can perform. ([Location 1942](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1942))
- You should absolutely try not to duplicate your work and absolutely try to maintain a largely stateless application. ([Location 1968](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1968))
- this approach causes a violation of our state rules, it makes complete sense as we are attempting to introduce state in a limited set of operations where it actually decreases cost and increases scalability ([Location 1974](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=1974))
- If you must use redirects, consider server configurations instead of HTML or other code-based solutions. ([Location 2001](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2001))
- problem is that they can be performed in numerous ways, some better than others in terms of resource utilization and performance, and they can easily get out of hand. ([Location 2038](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2038))
- CAP Theorem, also known as the Brewer Theorem, so named after computer scientist Eric Brewer, states that three core requirements exist when designing applications in a distributed environment, but it is impossible to simultaneously satisfy all three requirements. ([Location 2141](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2141))
- Consistency—The client perceives that a set of operations has occurred all at once. ([Location 2144](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2144))
- Availability—Every operation must terminate in an intended response. ([Location 2146](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2146))
- Partition tolerance—Operations will complete, even if individual components are unavailable. ([Location 2147](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2147))
- BASE, an acronym for architectures that solve CAP and stands for “basically available, soft state, and eventually consistent.” ([Location 2149](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2149))
- BASE architecture allows for the databases to become consistent, eventually. ([Location 2151](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2151))
- caching also helps to minimize the amount of work your system does. ([Location 2210](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2210))
- make static content highly available and scalable at low cost through the use of caches. ([Location 2213](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2213))
- add a content distribution network; they chose Akamai. ([Location 2222](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2222))
- simple to just take all of our static assets and push them there [Akamai] and let them handle caching closest to the user. ([Location 2223](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2223))
- used an Ajax call to replace the static content on the client side with the user’s name. For bigger sections of the site, the team used iframes to replace content dynamically. ([Location 2225](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2225))
- tuning the database buffer size, they were able to reduce the execution time of the queries and keep the result set in cache. ([Location 2229](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2229))
- small content management system that allowed the merchandisers to use a proprietary markup language to change information displayed, such as the price of the product, the SKU, and the content descriptions, without affecting the overall layout, the Cascading Style Sheets (CSS), or other assets, leaving the cache intact. ([Location 2234](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2234))
    - Note: Contentful
- pre-render sections of the page and then assemble them at the time of request. ([Location 2240](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2240))
- huge chunk of that HTML, pre-render it, and cache a CLOB [character large object] in memory using Memcached. Memcached would distribute it across our cluster of application servers, ([Location 2242](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2242))
- we were able to get rid of those Ajax calls that I mentioned when we were doing the full reverse proxy caching. ([Location 2245](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2245))
    - Note: Understand reverse cache proxying
- open-source object-relational mapping (ORM) tool called Entity Engine and then later moved to Hibernate. ([Location 2247](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2247))
- cost of assembling them is a little high, but the cost of caching them is relatively low because they really are only a bunch of text. ([Location 2253](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2253))
- you should ensure that you’ve designed the caches to be highly available and easily maintained. ([Location 2271](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2271))
- CDNs are a collection of computers, called nodes or edge servers, connected via a network, called a backbone, that have duplicate copies of their customers’ data or content (images, Web pages, and so on) on them. ([Location 2287](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2287))
- clients with greater than 10M of average revenues are better served by implementing CDNs than by continuing to serve that traffic themselves. ([Location 2308](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2308))
- for static Web sites, but how does this help your dynamic pages? ([Location 2309](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2309))
- Whether you have dynamic or static pages on your site, consider adding a CDN to the mix of caches. This layer provides the benefits of faster delivery, typically very high availability, and less traffic on your site’s servers. ([Location 2315](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2315))
- misconception that you can control how pages are cached by placing meta tags, such as Pragma, Expires, or Cache-Control, in the <HEAD> element of the page. ([Location 2327](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2327))
- Unfortunately, meta tags in HTML are recommendations for how the browser should treat a page, but many browsers do not pay attention to them. ([Location 2330](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2330))
- proxy caches ([Location 2332](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2332))
    - Note: What are proxy caches?
- HTTP headers, unlike meta tags, provide much more control over caching. ([Location 2335](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2335))
- Cache-Control general-header field is used to specify directives that, in accordance with RFC 2616 Section 14 defining the HTTP 1.1 protocol, must be obeyed by all caching mechanisms along the request/response chain. ([Location 2350](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2350))
- many directives that can be issued under the header, including public, private, no-cache, and max-age. ([Location 2352](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2352))
- configuring Web servers for the optimization of performance and scale. Keep-alives, or HTTP persistent connections, allow for the reuse of TCP connections for multiple HTTP requests. ([Location 2387](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2387))
    - Note: Android devices has these persistent http connection requests with server
- benefit of longer time-out periods is that more HTTP requests do not have to establish, use, and break down TCP connections, but the benefit of short time-out periods is that the Web server threads will not be tied up for servicing other requests. Finding a balance between the two based on the specifics of your application or site is important. ([Location 2392](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2392))
- Ajax as one of the “approaches” behind some of those drop-down menus that start to offer suggestions as you type, or the map services that allow you to zoom in and out of maps without making additional round-trip calls to a distant server. ([Location 2417](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2417))
- Ajax is an acronym for Asynchronous JavaScript and XML. ([Location 2424](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2424))
- Ajax consists of standards-based presentation leveraging CSS and DHTML, interaction and dynamic display capabilities facilitated by the Document Object Model (or DOM), a data interchange and manipulation mechanism such as XML with XSLT or JSON, and a data retrieval mechanism. ([Location 2429](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2429))
- asynchronous nature of Ajax can also help us load mail results into a client browser by repetitively fetching mail upon certain user actions without requiring the user to hit a “next page” button. ([Location 2440](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2440))
- Last-Modified header helps us handle conditional GET requests. In these cases, consistent with the HTTP/1.1 protocol, the server should respond with a 304 status if the item in cache is appropriate or still valid. ([Location 2468](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2468))
- page cache is a caching server you install in front of your Web servers to offload requests for both static and dynamic objects from those servers. ([Location 2511](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2511))
- SSL (Secure Sockets Layer) acceleration, ([Location 2513](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2513))
    - Note: What is ssl acceleration?
- first is that you should implement a page (or reverse proxy) cache in front of your Web servers ([Location 2521](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2521))
- second point is that you need to use the appropriate HTTP headers to ensure the greatest (but also business-appropriate) cache potential of your content and results. ([Location 2525](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2525))
- third point is that where possible you should include another HTTP header from RFC 2616 to help maximize the cacheability of your content. This new header is known as the ETag. ([Location 2530](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2530))
- If the tag matches, the server may respond with an HTTP 304 Not Modified response. If the tag is inconsistent with that on the server, the server will issue the updated object and its associated ETag. ([Location 2538](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2538))
- 20% of our largest businesses that might represent 80% of our total transaction volumes (such a situation exists with most of our customers) and spread them across several swim lanes of database splits. To gain cost leverage, we take 80% of our smaller users and sprinkle them evenly across all these swim lanes. ([Location 2587](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2587))
- Lather, rinse, repeat. ([Location 2617](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2617))
- Object caches are data stores (usually in memory) that store a hashed summary of each item. ([Location 2627](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2627))
- A hash function is a mathematical function that converts a large and variable-sized amount of data into a small hash value. ([Location 2629](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2629))
- cksum, md5sum, and sha1sum ([Location 2632](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2632))
- object caches such as the popular Memcached, Apache’s OJB, and NCache ([Location 2638](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2638))
- indicates when your system is in need of an object cache is the Top SQL report. ([Location 2645](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2645))
- final step in implementing the object cache is to monitor it for the cache hit rate. ([Location 2669](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2669))
- Depth of learning comes from asking “why” multiple times until the answers stop coming and causes are clearly identified. ([Location 2786](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2786))
- Failing to learn continuously and aggressively, meaning at every opportunity, will leave you vulnerable to competitors who are willing to constantly learn. ([Location 2804](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2804))
- Simply keeping track of usage and adoption of new features is a great start. ([Location 2826](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2826))
- Asking “why” five times is common but somewhat arbitrary, and you should continue to ask it until nothing new is revealed. ([Location 2879](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2879))
- Columns or tables should only be added, not deleted, until the next version of code is released ([Location 3046](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3046))
- the team needs to test the rollback process in QA ([Location 3050](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3050))
- the script needs to be tested under some amount of load condition ([Location 3051](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3051))
- The development team must not change the definition of data within a release. ([Location 3057](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3057))
- The application should have a framework added that allows code paths and features to be accessed by some users and not by others, based on an external configuration. ([Location 3060](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3060))
- Remove stored procedures from the database and put them in your application logic. ([Location 3137](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3137))
- Putting application logic in databases is costly and represents scale challenges. ([Location 3139](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3139))
- cost per compute cycle on these systems tends to be higher than that of the remainder of the solutions or services within a product’s architecture (for example, application servers or Web servers). ([Location 3158](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3158))
- Grouping the same types of entities together produces an entity set. In our database the entity is the equivalent of the row, and the entity set is the table. ([Location 3226](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3226))
- Primary keys enforce entity integrity by uniquely identifying entity instances. ([Location 3228](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3228))
- Foreign keys enforce referential integrity by completing an association between two entities of different entity sets. ([Location 3229](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3229))
- used to diagram entities, relationships, and attributes are entity relationship diagrams (ERDs). ERDs show the cardinality between entity sets, one-to-one, one-to-many, or many-to-many relationships. ([Location 3230](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3230))
- primary purpose of normalizing a data model is to ensure that the data is stored in a manner that allows for insert, update, select, and delete (aka CRUD: create, read, update, delete) with data integrity. ([Location 3233](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3233))
- SQL queries perform poorly because of the requirements to join tables, ([Location 3272](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3272))
- first is to tune the query. ([Location 3272](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3272))
- create a view, materialized view, summary table, ([Location 3273](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3273))
- is to not join in the query but rather pull the data sets into the application and join in memory ([Location 3274](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3274))
- final alternative is to push back on the business requirements. ([Location 3276](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3276))
- databases allow reads to occur simultaneously on data, while blocking all reads during the course of a write (an update or insertion) on an element undergoing an operation. ([Location 3301](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3301))
- When updating many rows at a single time within a database, the cost of acquiring multiple row locks and the competition for these rows might result in fewer transactions per second than just acquiring a larger lock of a page, extent, or table. ([Location 3306](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3306))
- component of the database (commonly called an optimizer within many databases) determines what size of element should be locked in an attempt to allow maximum concurrency while ensuring consistency and isolation. ([Location 3309](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3309))
- MySQL is an example where the selection of a storage engine such as MyISAM can limit you to table-level locks ([Location 3330](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3330))
    - Note: What would be the storage engine in clver?
- and, as a result, potentially limit your transaction throughput. ([Location 3330](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3330))
- Do not use multiphase commit protocols as a simple way to extend the life of your monolithic database. They will likely cause it to scale even less and result in an even earlier demise of your system. ([Location 3340](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3340))
- the American National Standards Institute (ANSI) SQL standard indicates that any cursor should default to FOR UPDATE unless it includes the clause FOR READ ONLY on the DECLARE statement. ([Location 3414](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3414))
- Selecting everything is fast and simple but really never a good idea. ([Location 3431](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3431))
- Strive for active/active rather than active/passive solutions. ([Location 3641](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3641))
- Use control services with active/passive instances for patterns that require singletons. ([Location 3641](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3641))
- The more components that are placed in series, the lower the system’s availability. ([Location 3731](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3731))
- Firefox plug-in Firesheep ([Location 3892](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3892))
- protect your users’ cookies against this type of hack or attack, commonly called sidejacking. ([Location 3895](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3895))
- there are mechanisms designed to allow for the coordination and communication between the parent method and the asynchronous child method called callbacks. ([Location 4059](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4059))
- design patterns that use callbacks, such as the delegate design pattern and the observer design pattern, each of which can be difficult to implement properly. ([Location 4061](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4061))
- Apache Kafka and RabbitMQ to PaaS such as AWS Kinesis and SQS. ([Location 4222](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4222))
- CPU utilization, memory, heap sizes, network utilization, and so forth. ([Location 4291](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4291))
- Keep your architecture simple, keep your destiny in your own hands, and keep your costs in control. ([Location 4314](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4314))
- once you start using one vendor’s clustering service, you can’t just switch to another’s solution. ([Location 4351](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4351))
- control of your own destiny, additional complexity, and total cost of ownership ([Location 4357](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4357))
- Recency accounts for how recently the data item in question has been accessed. ([Location 4396](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4396))
- Frequency speaks to how frequently that data is accessed. ([Location 4397](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4397))
- mean period between access and the rough inverse of this—the number of accesses over some time interval. ([Location 4398](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4398))
- open-source monitoring tools such as Cacti, Ntop, or Nagios, ([Location 4526](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=4526))
