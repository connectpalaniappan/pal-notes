---
title: Scalability Rules
full Title: Scalability Rules
author: Martin L. Abbott and Michael T. Fisher
note: 
URL: 
published date: 
category: books
source: kindle
note created: 2024-03-14
---
author:: [[Martin L. Abbott and Michael T. Fisher]]
note:: 
source:: [[kindle]]
url:: 
image_url:: [books image URL](https://images-na.ssl-images-amazon.com/images/I/51RQ9OuU4qL._SL200_.jpg)
category:: [[books]]
date:: [[2024-03-14]]
last_highlighted_date:: [[2022-02-09]]
published_date:: [[]]
summary:: None

![rw-book-cover](https://images-na.ssl-images-amazon.com/images/I/51RQ9OuU4qL._SL200_.jpg)

## Highlights
### Location 475
[[2022-02-08]] 22:56
> match the effort and approach to the complexity of the problem.


### Location 524
[[2022-02-08]] 22:56
> Do you handle the most likely case first?


### Location 629
[[2022-02-08]] 22:56
> Simplification needs to happen during every aspect of product development.


### Location 634
[[2022-02-08]] 22:56
> How do I simplify my scope, my design, and my implementation?


### Location 643
[[2022-02-08]] 22:56
> The folks at 37signals, now rebranded as Basecamp, are huge proponents of this approach, discussing the need and opportunity to prune work in both their book Rework6 and in their blog post titled “You Can Always Do Less.”


### Location 658
[[2022-02-08]] 22:56
> Complexity elimination is about doing less work, and design simplification is about doing that work faster and easier.


### Location 720
[[2022-02-08]] 22:56
> the fewer DNS lookups on your pages, the better your page download performance will be.


### Location 720
[[2022-02-08]] 22:56
> downside to combining all your objects into a single domain,


### Location 751
[[2022-02-08]] 22:56
> CSS image sprites


### Location 751
[[2022-02-08]] 22:56
> An image sprite is a combination of small images into one larger image that can be manipulated with CSS to display any single individual image.


### Location 755
[[2022-02-08]] 22:56
> reducing the number of objects on a page will improve performance and scalability,


### Location 783
[[2022-02-08]] 22:56
> amount of content that must be displayed, how many objects can be combined, maximizing the use of simultaneous connections by adding domains, the total page weight and whether penalization can help, and so on.


### Location 785
[[2022-02-08]] 22:56
> Many other techniques for optimizing performance should be considered, including loading CSS at the top of the page and JavaScript files at the bottom, minifying files, and making use of caches, lazy loading, and so on.


### Location 961
[[2022-02-08]] 22:56
> Time (or temporal) sensitivity is how fresh or completely correct the read copy has to be relative to the write copy.


### Location 991
[[2022-02-08]] 22:56
> solutions that rely on a single write database to help eliminate confusion and logical contention between the databases.


### Location 995
[[2022-02-08]] 22:56
> A request comes in to the load balancer which distributes it to any one of the many Web or application servers to fulfill.


### Location 1074
[[2022-02-08]] 22:56
> Often referred to as sharding and podding,


### Location 1135
[[2022-02-08]] 22:56
> they are caused by a logical contention that bigger and faster hardware simply can’t solve.


### Location 1307
[[2022-02-08]] 22:56
> Own the base; rent the peak.


### Location 1329
[[2022-02-08]] 22:56
> Standardize system configuration, code deployment, and monitoring to enable seamless growth between colocation sites and cloud sites.


### Location 1377
[[2022-02-08]] 22:56
> Keeping two sites in sync is tough, especially when the team likely doesn’t get many opportunities to prove that one of the two sites would actually work if needed.


### Location 1547
[[2022-02-08]] 22:56
> ease of identifying where


### Location 1547
[[2022-02-08]] 22:56
> relationships may exist through correlation within objects.


### Location 1581
[[2022-02-08]] 22:56
> Don’t get locked into only what you are familiar with; spend the time to learn new things and be open to them.


### Location 1590
[[2022-02-08]] 22:56
> An RDBMS provides great transactional integrity but is more difficult to scale, costs more, and has lower availability


### Location 1596
[[2022-02-08]] 22:56
> first is the guarantee of transactional integrity through ACID properties;


### Location 1598
[[2022-02-08]] 22:56
> The second is the relational structure within and between tables.


### Location 1611
[[2022-02-08]] 22:56
> The bottom line is that data that requires transactional integrity or relationships with other data is likely ideal for an RDBMS. Data that requires neither relationships with other data nor transactional integrity might be better suited for other storage systems.


### Location 1619
[[2022-02-08]] 22:56
> Google File System (GFS), MogileFS, and Ceph.


### Location 1619
[[2022-02-08]] 22:56
> File systems are great alternatives when you have a “write once, read many” system.


### Location 1628
[[2022-02-08]] 22:56
> Key-value stores include technologies such as Memcached, Redis, and Amazon DynamoDB and Simple DB.


### Location 1633
[[2022-02-08]] 22:56
> Extensible record stores (ERSs), sometimes called wide column stores or table-style DBMSs, include technologies such as Google’s proprietary Bigtable and Facebook’s, now open-source, Cassandra and the open-source HBase.


### Location 1642
[[2022-02-08]] 22:56
> Document stores include technologies such as MongoDB, CouchDB, Amazon’s DynamoDB, and Couchbase.


### Location 1647
[[2022-02-08]] 22:56
> reduction of relationships that allows for the systems to be distributed across many nodes and achieve greater scalability while maintaining transactional integrity and read-write conflict resolution.


### Location 1668
[[2022-02-08]] 22:56
> our data storage alternatives is Apache’s Hadoop.


### Location 1669
[[2022-02-08]] 22:56
> Google’s MapReduce and Google File System,


### Location 1700
[[2022-02-08]] 22:56
> Cost-Value Data Dilemma, which is where the value of data decreases over time and the cost of keeping it increases over time.


### Location 1741
[[2022-02-08]] 22:56
> ensuring that these objects are delivered from private IP addresses and have access only via ports 80 and 443.


### Location 1770
[[2022-02-08]] 22:56
> However, it is important to keep in mind that any extra hop reduces availability and increases latency regardless of implementation.


### Location 1783
[[2022-02-08]] 22:56
> Splunk or the ELK


### Location 1783
[[2022-02-08]] 22:56
> framework to watch your application logs for errors.


### Location 1795
[[2022-02-08]] 22:56
> first step in using log files is to aggregate them.


### Location 1797
[[2022-02-08]] 22:56
> there are strategies such as sampling, pulling data from every nth server, that can be implemented.


### Location 1804
[[2022-02-08]] 22:56
> next step is to monitor these logs.


### Location 1806
[[2022-02-08]] 22:56
> monitoring can be done through custom scripts such as a simple shell script that greps the files, counting errors and alerting when a threshold is exceeded.


### Location 1808
[[2022-02-08]] 22:56
> tools such as Cricket or Cacti include graphing capabilities.


### Location 1811
[[2022-02-08]] 22:56
> Logstash, an application similar to Extract, Transform, and Load (ETL) that extracts data from a variety of inputs


### Location 1813
[[2022-02-08]] 22:56
> Elasticsearch is a distributed data store and search engine that indexes large amounts of data to make it quickly


### Location 1815
[[2022-02-08]] 22:56
> final component, Kibana, is a data visualization tool that displays your metrics in graphical and tabular presentation modes as they are being generated in real time.


### Location 1821
[[2022-02-08]] 22:56
> final step is to take action to fix the problems.


### Location 1941
[[2022-02-08]] 22:56
> Writing and then reading a result doubles the transactions on your systems and as a result halves the number of total transactions you may perform to create value.


### Location 1942
[[2022-02-08]] 22:56
> A better solution is to simply read the return value of the operation you are performing and trust that it is correct, thereby increasing the number of value-added transactions you can perform.


### Location 1968
[[2022-02-08]] 22:56
> You should absolutely try not to duplicate your work and absolutely try to maintain a largely stateless application.


### Location 1974
[[2022-02-08]] 22:56
> this approach causes a violation of our state rules, it makes complete sense as we are attempting to introduce state in a limited set of operations where it actually decreases cost and increases scalability


### Location 2001
[[2022-02-08]] 22:56
> If you must use redirects, consider server configurations instead of HTML or other code-based solutions.


### Location 2038
[[2022-02-08]] 22:56
> problem is that they can be performed in numerous ways, some better than others in terms of resource utilization and performance, and they can easily get out of hand.


### Location 2141
[[2022-02-08]] 22:56
> CAP Theorem, also known as the Brewer Theorem, so named after computer scientist Eric Brewer, states that three core requirements exist when designing applications in a distributed environment, but it is impossible to simultaneously satisfy all three requirements.


### Location 2144
[[2022-02-08]] 22:56
> Consistency—The client perceives that a set of operations has occurred all at once.


### Location 2146
[[2022-02-08]] 22:56
> Availability—Every operation must terminate in an intended response.


### Location 2147
[[2022-02-08]] 22:56
> Partition tolerance—Operations will complete, even if individual components are unavailable.


### Location 2149
[[2022-02-08]] 22:56
> BASE, an acronym for architectures that solve CAP and stands for “basically available, soft state, and eventually consistent.”


### Location 2151
[[2022-02-08]] 22:56
> BASE architecture allows for the databases to become consistent, eventually.


### Location 2210
[[2022-02-08]] 22:56
> caching also helps to minimize the amount of work your system does.


### Location 2213
[[2022-02-08]] 22:56
> make static content highly available and scalable at low cost through the use of caches.


### Location 2222
[[2022-02-08]] 22:56
> add a content distribution network; they chose Akamai.


### Location 2223
[[2022-02-08]] 22:56
> simple to just take all of our static assets and push them there [Akamai] and let them handle caching closest to the user.


### Location 2225
[[2022-02-08]] 22:56
> used an Ajax call to replace the static content on the client side with the user’s name. For bigger sections of the site, the team used iframes to replace content dynamically.


### Location 2229
[[2022-02-08]] 22:56
> tuning the database buffer size, they were able to reduce the execution time of the queries and keep the result set in cache.


### Location 2234
[[2022-02-08]] 22:56
> small content management system that allowed the merchandisers to use a proprietary markup language to change information displayed, such as the price of the product, the SKU, and the content descriptions, without affecting the overall layout, the Cascading Style Sheets (CSS), or other assets, leaving the cache intact.

- [n] Contentful  * [Location 2234](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2234)


### Location 2240
[[2022-02-08]] 22:56
> pre-render sections of the page and then assemble them at the time of request.


### Location 2242
[[2022-02-08]] 22:56
> huge chunk of that HTML, pre-render it, and cache a CLOB [character large object] in memory using Memcached. Memcached would distribute it across our cluster of application servers,


### Location 2245
[[2022-02-08]] 22:56
> we were able to get rid of those Ajax calls that I mentioned when we were doing the full reverse proxy caching.

- [n] Understand reverse cache proxying  * [Location 2245](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2245)


### Location 2247
[[2022-02-08]] 22:56
> open-source object-relational mapping (ORM) tool called Entity Engine and then later moved to Hibernate.


### Location 2253
[[2022-02-08]] 22:56
> cost of assembling them is a little high, but the cost of caching them is relatively low because they really are only a bunch of text.


### Location 2271
[[2022-02-08]] 22:56
> you should ensure that you’ve designed the caches to be highly available and easily maintained.


### Location 2287
[[2022-02-08]] 22:56
> CDNs are a collection of computers, called nodes or edge servers, connected via a network, called a backbone, that have duplicate copies of their customers’ data or content (images, Web pages, and so on) on them.


### Location 2308
[[2022-02-08]] 22:56
> clients with greater than 10M of average revenues are better served by implementing CDNs than by continuing to serve that traffic themselves.


### Location 2309
[[2022-02-08]] 22:56
> for static Web sites, but how does this help your dynamic pages?


### Location 2315
[[2022-02-08]] 22:56
> Whether you have dynamic or static pages on your site, consider adding a CDN to the mix of caches. This layer provides the benefits of faster delivery, typically very high availability, and less traffic on your site’s servers.


### Location 2327
[[2022-02-08]] 22:56
> misconception that you can control how pages are cached by placing meta tags, such as Pragma, Expires, or Cache-Control, in the <HEAD> element of the page.


### Location 2330
[[2022-02-08]] 22:56
> Unfortunately, meta tags in HTML are recommendations for how the browser should treat a page, but many browsers do not pay attention to them.


### Location 2332
[[2022-02-08]] 22:56
> proxy caches

- [n] What are proxy caches?  * [Location 2332](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2332)


### Location 2335
[[2022-02-08]] 22:56
> HTTP headers, unlike meta tags, provide much more control over caching.


### Location 2350
[[2022-02-08]] 22:56
> Cache-Control general-header field is used to specify directives that, in accordance with RFC 2616 Section 14 defining the HTTP 1.1 protocol, must be obeyed by all caching mechanisms along the request/response chain.


### Location 2352
[[2022-02-08]] 22:56
> many directives that can be issued under the header, including public, private, no-cache, and max-age.


### Location 2387
[[2022-02-08]] 22:56
> configuring Web servers for the optimization of performance and scale. Keep-alives, or HTTP persistent connections, allow for the reuse of TCP connections for multiple HTTP requests.

- [n] Android devices has these persistent http connection requests with server  * [Location 2387](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2387)


### Location 2392
[[2022-02-08]] 22:56
> benefit of longer time-out periods is that more HTTP requests do not have to establish, use, and break down TCP connections, but the benefit of short time-out periods is that the Web server threads will not be tied up for servicing other requests. Finding a balance between the two based on the specifics of your application or site is important.


### Location 2417
[[2022-02-08]] 22:56
> Ajax as one of the “approaches” behind some of those drop-down menus that start to offer suggestions as you type, or the map services that allow you to zoom in and out of maps without making additional round-trip calls to a distant server.


### Location 2424
[[2022-02-08]] 22:56
> Ajax is an acronym for Asynchronous JavaScript and XML.


### Location 2429
[[2022-02-08]] 22:56
> Ajax consists of standards-based presentation leveraging CSS and DHTML, interaction and dynamic display capabilities facilitated by the Document Object Model (or DOM), a data interchange and manipulation mechanism such as XML with XSLT or JSON, and a data retrieval mechanism.


### Location 2440
[[2022-02-08]] 22:56
> asynchronous nature of Ajax can also help us load mail results into a client browser by repetitively fetching mail upon certain user actions without requiring the user to hit a “next page” button.


### Location 2468
[[2022-02-08]] 22:56
> Last-Modified header helps us handle conditional GET requests. In these cases, consistent with the HTTP/1.1 protocol, the server should respond with a 304 status if the item in cache is appropriate or still valid.


### Location 2511
[[2022-02-08]] 22:56
> page cache is a caching server you install in front of your Web servers to offload requests for both static and dynamic objects from those servers.


### Location 2513
[[2022-02-08]] 22:56
> SSL (Secure Sockets Layer) acceleration,

- [n] What is ssl acceleration?  * [Location 2513](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=2513)


### Location 2521
[[2022-02-08]] 22:56
> first is that you should implement a page (or reverse proxy) cache in front of your Web servers


### Location 2525
[[2022-02-08]] 22:56
> second point is that you need to use the appropriate HTTP headers to ensure the greatest (but also business-appropriate) cache potential of your content and results.


### Location 2530
[[2022-02-08]] 22:56
> third point is that where possible you should include another HTTP header from RFC 2616 to help maximize the cacheability of your content. This new header is known as the ETag.


### Location 2538
[[2022-02-08]] 22:56
> If the tag matches, the server may respond with an HTTP 304 Not Modified response. If the tag is inconsistent with that on the server, the server will issue the updated object and its associated ETag.


### Location 2587
[[2022-02-08]] 22:56
> 20% of our largest businesses that might represent 80% of our total transaction volumes (such a situation exists with most of our customers) and spread them across several swim lanes of database splits. To gain cost leverage, we take 80% of our smaller users and sprinkle them evenly across all these swim lanes.


### Location 2617
[[2022-02-08]] 22:56
> Lather, rinse, repeat.


### Location 2627
[[2022-02-08]] 22:56
> Object caches are data stores (usually in memory) that store a hashed summary of each item.


### Location 2629
[[2022-02-08]] 22:56
> A hash function is a mathematical function that converts a large and variable-sized amount of data into a small hash value.


### Location 2632
[[2022-02-08]] 22:56
> cksum, md5sum, and sha1sum


### Location 2638
[[2022-02-08]] 22:56
> object caches such as the popular Memcached, Apache’s OJB, and NCache


### Location 2645
[[2022-02-08]] 22:56
> indicates when your system is in need of an object cache is the Top SQL report.


### Location 2669
[[2022-02-08]] 22:56
> final step in implementing the object cache is to monitor it for the cache hit rate.


### Location 2786
[[2022-02-08]] 22:56
> Depth of learning comes from asking “why” multiple times until the answers stop coming and causes are clearly identified.


### Location 2804
[[2022-02-08]] 22:56
> Failing to learn continuously and aggressively, meaning at every opportunity, will leave you vulnerable to competitors who are willing to constantly learn.


### Location 2826
[[2022-02-08]] 22:56
> Simply keeping track of usage and adoption of new features is a great start.


### Location 2879
[[2022-02-08]] 22:56
> Asking “why” five times is common but somewhat arbitrary, and you should continue to ask it until nothing new is revealed.


### Location 3046
[[2022-02-08]] 22:56
> Columns or tables should only be added, not deleted, until the next version of code is released


### Location 3050
[[2022-02-08]] 22:56
> the team needs to test the rollback process in QA


### Location 3051
[[2022-02-08]] 22:56
> the script needs to be tested under some amount of load condition


### Location 3057
[[2022-02-08]] 22:56
> The development team must not change the definition of data within a release.


### Location 3060
[[2022-02-08]] 22:56
> The application should have a framework added that allows code paths and features to be accessed by some users and not by others, based on an external configuration.


### Location 3137
[[2022-02-08]] 22:56
> Remove stored procedures from the database and put them in your application logic.


### Location 3139
[[2022-02-08]] 22:56
> Putting application logic in databases is costly and represents scale challenges.


### Location 3158
[[2022-02-08]] 22:56
> cost per compute cycle on these systems tends to be higher than that of the remainder of the solutions or services within a product’s architecture (for example, application servers or Web servers).


### Location 3226
[[2022-02-08]] 22:56
> Grouping the same types of entities together produces an entity set. In our database the entity is the equivalent of the row, and the entity set is the table.


### Location 3228
[[2022-02-08]] 22:56
> Primary keys enforce entity integrity by uniquely identifying entity instances.


### Location 3229
[[2022-02-08]] 22:56
> Foreign keys enforce referential integrity by completing an association between two entities of different entity sets.


### Location 3230
[[2022-02-08]] 22:56
> used to diagram entities, relationships, and attributes are entity relationship diagrams (ERDs). ERDs show the cardinality between entity sets, one-to-one, one-to-many, or many-to-many relationships.


### Location 3233
[[2022-02-08]] 22:56
> primary purpose of normalizing a data model is to ensure that the data is stored in a manner that allows for insert, update, select, and delete (aka CRUD: create, read, update, delete) with data integrity.


### Location 3272
[[2022-02-08]] 22:56
> SQL queries perform poorly because of the requirements to join tables,


### Location 3272
[[2022-02-08]] 22:56
> first is to tune the query.


### Location 3273
[[2022-02-08]] 22:56
> create a view, materialized view, summary table,


### Location 3274
[[2022-02-08]] 22:56
> is to not join in the query but rather pull the data sets into the application and join in memory


### Location 3276
[[2022-02-08]] 22:56
> final alternative is to push back on the business requirements.


### Location 3301
[[2022-02-08]] 22:56
> databases allow reads to occur simultaneously on data, while blocking all reads during the course of a write (an update or insertion) on an element undergoing an operation.


### Location 3306
[[2022-02-08]] 22:56
> When updating many rows at a single time within a database, the cost of acquiring multiple row locks and the competition for these rows might result in fewer transactions per second than just acquiring a larger lock of a page, extent, or table.


### Location 3309
[[2022-02-08]] 22:56
> component of the database (commonly called an optimizer within many databases) determines what size of element should be locked in an attempt to allow maximum concurrency while ensuring consistency and isolation.


### Location 3330
[[2022-02-08]] 22:56
> MySQL is an example where the selection of a storage engine such as MyISAM can limit you to table-level locks

- [n] What would be the storage engine in clver?  * [Location 3330](https://readwise.io/to_kindle?action=open&asin=B01L2B6XCE&location=3330)


### Location 3330
[[2022-02-08]] 22:56
> and, as a result, potentially limit your transaction throughput.


### Location 3340
[[2022-02-08]] 22:56
> Do not use multiphase commit protocols as a simple way to extend the life of your monolithic database. They will likely cause it to scale even less and result in an even earlier demise of your system.


### Location 3414
[[2022-02-08]] 22:56
> the American National Standards Institute (ANSI) SQL standard indicates that any cursor should default to FOR UPDATE unless it includes the clause FOR READ ONLY on the DECLARE statement.


### Location 3431
[[2022-02-08]] 22:56
> Selecting everything is fast and simple but really never a good idea.


### Location 3641
[[2022-02-08]] 22:56
> Strive for active/active rather than active/passive solutions.


### Location 3641
[[2022-02-08]] 22:56
> Use control services with active/passive instances for patterns that require singletons.


### Location 3731
[[2022-02-08]] 22:56
> The more components that are placed in series, the lower the system’s availability.


### Location 3892
[[2022-02-08]] 22:56
> Firefox plug-in Firesheep


### Location 3895
[[2022-02-08]] 22:56
> protect your users’ cookies against this type of hack or attack, commonly called sidejacking.


### Location 4059
[[2022-02-08]] 22:56
> there are mechanisms designed to allow for the coordination and communication between the parent method and the asynchronous child method called callbacks.


### Location 4061
[[2022-02-08]] 22:56
> design patterns that use callbacks, such as the delegate design pattern and the observer design pattern, each of which can be difficult to implement properly.


### Location 4222
[[2022-02-08]] 22:56
> Apache Kafka and RabbitMQ to PaaS such as AWS Kinesis and SQS.


### Location 4291
[[2022-02-08]] 22:56
> CPU utilization, memory, heap sizes, network utilization, and so forth.


### Location 4314
[[2022-02-08]] 22:56
> Keep your architecture simple, keep your destiny in your own hands, and keep your costs in control.


### Location 4351
[[2022-02-08]] 22:56
> once you start using one vendor’s clustering service, you can’t just switch to another’s solution.


### Location 4357
[[2022-02-08]] 22:56
> control of your own destiny, additional complexity, and total cost of ownership


### Location 4396
[[2022-02-08]] 22:56
> Recency accounts for how recently the data item in question has been accessed.


### Location 4397
[[2022-02-08]] 22:56
> Frequency speaks to how frequently that data is accessed.


### Location 4398
[[2022-02-08]] 22:56
> mean period between access and the rough inverse of this—the number of accesses over some time interval.


### Location 4526
[[2022-02-08]] 22:56
> open-source monitoring tools such as Cacti, Ntop, or Nagios,


